// AUTO-GENERATED by @lena/zenstack-form-plugin
// DO NOT EDIT MANUALLY

import { z } from 'zod/v4'
import { VideoCodecFormSchema } from './enums/VideoCodec.form'
import { TrackPreferenceFormSchema } from './enums/TrackPreference.form'

/**
 * Схема создания Settings с UI метаданными
 */
export const SettingsCreateFormSchema = z.object({
  useGpu: z.boolean().default(true)
    .meta({
      ui: { title: 'Использовать GPU', description: 'Использовать NVIDIA NVENC для транскодирования', fieldType: 'switch' }
    }),
  videoCodec: VideoCodecFormSchema
    .meta({
      ui: { title: 'Видеокодек', fieldType: 'radioCard' }
    }),
  videoQuality: z.number().int().min(0).max(51).default(24)
    .meta({
      ui: { title: 'Качество видео (CQ/CRF)', description: 'Меньше = лучше качество, больше размер', fieldType: 'slider', fieldProps: {"showValue":true} }
    }),
  videoPreset: z.string().default('p5')
    .meta({
      ui: { title: 'Пресет скорости', fieldType: 'select', fieldProps: {"options":["p1","p2","p3","p4","p5","p6","p7"]} }
    }),
  audioBitrate: z.number().int().min(64).max(512).multipleOf(32).default(256)
    .meta({
      ui: { title: 'Битрейт аудио (kbps)', fieldType: 'slider', fieldProps: {"showValue":true} }
    }),
  libraryPath: z.string().optional()
    .meta({
      ui: { title: 'Папка библиотеки', description: 'Путь к папке с медиафайлами' }
    }),
  outputPath: z.string().optional()
    .meta({
      ui: { title: 'Папка для транскодирования', description: 'Куда сохранять перекодированные файлы' }
    }),
  exportPath: z.string().optional()
    .meta({
      ui: { title: 'Папка экспорта по умолчанию', description: 'Куда сохранять MKV файлы при экспорте' }
    }),
  minimizeToTray: z.boolean().default(true)
    .meta({
      ui: { title: 'Сворачивать в трей', description: 'Приложение продолжит работать в фоне', fieldType: 'switch' }
    }),
  closeToTray: z.boolean().default(true)
    .meta({
      ui: { title: 'Закрытие окна в трей', description: 'При нажатии на крестик сворачивать в трей вместо закрытия', fieldType: 'switch' }
    }),
  showTrayNotification: z.boolean().default(true)
    .meta({
      ui: { title: 'Показывать уведомление при сворачивании', description: 'Показывать уведомление при первом сворачивании в трей', fieldType: 'switch' }
    }),
  darkMode: z.boolean().default(true)
    .meta({
      ui: { title: 'Тёмная тема', fieldType: 'switch' }
    }),
  language: z.string().default('ru')
    .meta({
      ui: { title: 'Язык интерфейса', fieldType: 'select', fieldProps: {"options":["ru","en","ja"]} }
    }),
  skipOpening: z.boolean().default(false)
    .meta({
      ui: { title: 'Автопропуск опенинга', fieldType: 'switch' }
    }),
  skipEnding: z.boolean().default(false)
    .meta({
      ui: { title: 'Автопропуск эндинга', fieldType: 'switch' }
    }),
  autoplay: z.boolean().default(true)
    .meta({
      ui: { title: 'Автовоспроизведение', fieldType: 'switch' }
    }),
  trackPreference: TrackPreferenceFormSchema
    .meta({
      ui: { title: 'Предпочтение дорожек', description: 'Какие дорожки выбирать автоматически при первом просмотре', fieldType: 'radioCard' }
    })
})

/**
 * Схема обновления Settings (все поля опциональны)
 */
export const SettingsUpdateFormSchema = SettingsCreateFormSchema.partial()

/**
 * Поля, исключённые из форм
 */
export const SettingsExcludedFields = ['id', 'defaultProfileId', 'defaultProfile', 'updatedAt'] as const

/**
 * Типы
 */
export type SettingsCreateForm = z.infer<typeof SettingsCreateFormSchema>
export type SettingsUpdateForm = z.infer<typeof SettingsUpdateFormSchema>
